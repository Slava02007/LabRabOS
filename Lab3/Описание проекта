Описание проекта

Программа имитирует работу нескольких независимых потоков-«маркеров» в общем адресном пространстве (массиве). Основная цель — продемонстрировать механизмы синхронизации доступа к разделяемым ресурсам и управление жизненным циклом потоков через систему сигналов.
Логика работы

    Потоки Marker:

        Пытаются «пометить» случайные элементы массива своим порядковым номером.

        Перед изменением массива входят в критическую секцию, чтобы избежать конфликтов доступа.

        Если натыкаются на элемент, уже помеченный другим потоком, они останавливаются и подают сигнал главному потоку.

        Ожидают решения пользователя: продолжить работу или очистить свои метки и завершиться.

    Поток Main (Контроллер):

        Координирует одновременный старт всех маркеров.

        Ждет, пока все активные маркеры не подадут сигнал об остановке (WaitForMultipleObjects).

        Выводит текущее состояние массива для визуализации «борьбы» за память.

        Позволяет пользователю выбрать «поток-жертву» для завершения, после чего дает команду остальным продолжить выполнение.


Технический стек

    Язык: C++

    WinAPI Synchronization:

        CRITICAL_SECTION: защита общего массива Arr.

        HANDLE (Event): использование событий для построения сложной системы сигналов (start, stop, continue, terminate).

    Многопоточность: CreateThread, WaitForMultipleObjects.

    Тестирование: Google Test (GTest) для проверки корректности инициализации и логики очистки меток.


Используемые механизмы синхронизации

    Критическая секция (cs): гарантирует, что в один момент времени только один поток проверяет и меняет значение элемента массива. Это предотвращает ситуацию, когда два потока одновременно видят 0 и оба записывают свои ID.

    События (Manual & Auto Reset Events):

        startEvent: ручной сброс, чтобы разбудить все потоки одновременно.

        stopEvent: автосброс, уведомляет main, что маркер заблокирован.

        continue/terminateEvents: персональные сигналы управления для каждого потока.


Особенности реализации

    Динамическое управление: программа корректно обрабатывает завершение потоков в любом порядке, пока массив полностью не освободится или не будет заполнен.

    Безопасное завершение: перед выходом поток-маркер обязан очистить все свои метки (вернуть 0 в массив), что демонстрирует корректное управление ресурсами.

    Визуализация: на каждой итерации выводится состояние массива, что позволяет следить за распределением «сфер влияния» между потоками.
